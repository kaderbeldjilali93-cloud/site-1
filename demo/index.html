<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù… | RestoPro</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <style>
        body { 
            font-family: 'Cairo', sans-serif; 
            -webkit-tap-highlight-color: transparent; 
            scroll-behavior: smooth;
        }
        
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* --- Animations from AdWave (Modified for Gold Theme) --- */
        
        /* Zoom In Animation */
        @keyframes zoomInSmooth {
            0% { opacity: 0; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1); }
        }
        .animate-zoom-in { animation: zoomInSmooth 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; opacity: 0; }

        /* Slide Up Reveal Class (Controlled by JS) */
        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .reveal-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Stagger Delays */
        .delay-100 { transition-delay: 0.1s; animation-delay: 0.1s; }
        .delay-200 { transition-delay: 0.2s; animation-delay: 0.2s; }
        .delay-300 { transition-delay: 0.3s; animation-delay: 0.3s; }

        /* --- LED Glow Effects --- */
        
        /* Active Tab LED Glow */
        .nav-active {
            background-color: #D4AF37 !important; /* Gold */
            color: #09090b !important;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.6), inset 0 0 10px rgba(255, 255, 255, 0.2);
            border-color: #D4AF37 !important;
            transform: scale(1.05);
        }

        .item-card { transition: transform 0.2s, background-color 0.2s; }
        .item-card:active { transform: scale(0.98); }
        
        @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        .pop-anim { animation: pop 0.2s ease-in-out; }

        @keyframes slideUpModal {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .animate-slide-up-smooth { animation: slideUpModal 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: { 500: '#D4AF37', 600: '#B5952F', 100: '#3D3418' }, 
                        dark: { 950: '#09090b', 900: '#18181b', 800: '#27272a', 700: '#3f3f46' }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-dark-950 text-gray-100 pb-28 select-none">

    <!-- Ø§Ù„Ø±Ø£Ø³ (Header) -->
    <div class="fixed top-0 w-full bg-dark-950/80 backdrop-blur-xl border-b border-dark-800 z-50 transition-all duration-300">
        <div class="px-4 py-3 flex justify-between items-center shadow-lg shadow-black/20">
            <div class="flex items-center gap-2 animate-zoom-in">
                <div class="w-9 h-9 bg-gradient-to-br from-brand-500 to-brand-600 rounded-xl flex items-center justify-center text-dark-950 font-black text-lg shadow-[0_0_15px_rgba(212,175,55,0.4)]">R</div>
                <h1 class="font-bold text-gray-100 text-lg tracking-wide">Ø¨ÙŠØ³Øª Ø¨Ø±ØºØ± <span class="text-brand-500">Ø¬ÙˆÙ„Ø¯</span></h1>
            </div>
            <div class="bg-dark-800/80 text-brand-500 border border-brand-500/20 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1.5 animate-zoom-in delay-100">
                <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.6)]"></span>
                Ù…ÙØªÙˆØ­
            </div>
        </div>

        <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª (Sticky Scrollspy Nav) -->
        <div class="px-4 py-3 overflow-x-auto hide-scrollbar border-t border-white/5">
            <div class="flex gap-3 min-w-max">
                <a href="#section-burger" id="nav-burger" class="nav-btn transition-all duration-300 bg-dark-900 text-gray-400 border border-dark-800 px-6 py-2.5 rounded-full text-sm font-bold shadow-sm">Ø¨Ø±ØºØ±</a>
                <a href="#section-pizza" id="nav-pizza" class="nav-btn transition-all duration-300 bg-dark-900 text-gray-400 border border-dark-800 px-6 py-2.5 rounded-full text-sm font-bold shadow-sm">Ø¨ÙŠØªØ²Ø§</a>
                <a href="#section-drinks" id="nav-drinks" class="nav-btn transition-all duration-300 bg-dark-900 text-gray-400 border border-dark-800 px-6 py-2.5 rounded-full text-sm font-bold shadow-sm">Ù…Ø´Ø±ÙˆØ¨Ø§Øª</a>
                <a href="#section-sides" id="nav-sides" class="nav-btn transition-all duration-300 bg-dark-900 text-gray-400 border border-dark-800 px-6 py-2.5 rounded-full text-sm font-bold shadow-sm">Ø¬Ø§Ù†Ø¨ÙŠ</a>
            </div>
        </div>
    </div>

    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Main Content) -->
    <div class="mt-[140px] px-4 space-y-12 pb-8" id="main-container">
        
        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¨Ø±ØºØ± -->
        <section id="section-burger" class="scroll-mt-40">
            <div class="flex items-center gap-3 mb-4 reveal-on-scroll">
                <h2 class="text-2xl font-black text-white">ğŸ” Ø¨Ø±ØºØ± ÙØ§Ø®Ø±</h2>
                <div class="h-[1px] flex-1 bg-gradient-to-r from-brand-500/50 to-transparent"></div>
            </div>
            <div class="grid grid-cols-1 gap-4" id="grid-burger"></div>
        </section>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¨ÙŠØªØ²Ø§ -->
        <section id="section-pizza" class="scroll-mt-40">
            <div class="flex items-center gap-3 mb-4 reveal-on-scroll">
                <h2 class="text-2xl font-black text-white">ğŸ• Ø¨ÙŠØªØ²Ø§ Ø¥ÙŠØ·Ø§Ù„ÙŠØ©</h2>
                <div class="h-[1px] flex-1 bg-gradient-to-r from-brand-500/50 to-transparent"></div>
            </div>
            <div class="grid grid-cols-1 gap-4" id="grid-pizza"></div>
        </section>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª -->
        <section id="section-drinks" class="scroll-mt-40">
            <div class="flex items-center gap-3 mb-4 reveal-on-scroll">
                <h2 class="text-2xl font-black text-white">ğŸ¥¤ Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø¨Ø§Ø±Ø¯Ø©</h2>
                <div class="h-[1px] flex-1 bg-gradient-to-r from-brand-500/50 to-transparent"></div>
            </div>
            
            <!-- ØªØµÙ†ÙŠÙØ§Øª ÙØ±Ø¹ÙŠØ© Ù„Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª -->
            <div class="space-y-6">
                <div>
                    <h3 class="text-sm text-brand-500 font-bold mb-3 px-1 reveal-on-scroll">Ù…Ø´Ø±ÙˆØ¨Ø§Øª ØºØ§Ø²ÙŠØ©</h3>
                    <div class="grid grid-cols-1 gap-4" id="grid-drinks-soda"></div>
                </div>
                <div>
                    <h3 class="text-sm text-brand-500 font-bold mb-3 px-1 reveal-on-scroll">Ø¹ØµØ§Ø¦Ø± Ø·Ø¨ÙŠØ¹ÙŠØ©</h3>
                    <div class="grid grid-cols-1 gap-4" id="grid-drinks-juice"></div>
                </div>
                <div>
                    <h3 class="text-sm text-brand-500 font-bold mb-3 px-1 reveal-on-scroll">Ù…ÙŠØ§Ù‡ ÙˆØ¹Ø¨ÙˆØ§Øª</h3>
                    <div class="grid grid-cols-1 gap-4" id="grid-drinks-water"></div>
                </div>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
        <section id="section-sides" class="scroll-mt-40">
            <div class="flex items-center gap-3 mb-4 reveal-on-scroll">
                <h2 class="text-2xl font-black text-white">ğŸŸ Ø¥Ø¶Ø§ÙØ§Øª</h2>
                <div class="h-[1px] flex-1 bg-gradient-to-r from-brand-500/50 to-transparent"></div>
            </div>
            <div class="grid grid-cols-1 gap-4" id="grid-sides"></div>
        </section>

    </div>

    <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø¹Ø§Ø¦Ù… -->
    <div id="cart-bar" class="fixed bottom-6 left-4 right-4 bg-gradient-to-r from-brand-500 to-brand-600 text-dark-950 p-4 rounded-2xl shadow-[0_0_40px_rgba(212,175,55,0.4)] transform translate-y-[150%] transition-transform duration-500 cubic-bezier(0.175, 0.885, 0.32, 1.275) z-50 flex justify-between items-center cursor-pointer active:scale-95 border border-white/20" onclick="openCartModal()">
        <div class="flex items-center gap-4">
            <div class="bg-dark-950 text-brand-500 w-12 h-12 rounded-full flex items-center justify-center font-black text-xl shadow-inner border border-brand-600" id="total-count">0</div>
            <div class="flex flex-col leading-none gap-1">
                <span class="text-xs text-dark-900 font-bold uppercase tracking-wider">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</span>
                <span class="font-black text-2xl" id="total-price">0 Ø¯.Ø¬</span>
            </div>
        </div>
        <div class="flex items-center gap-2 text-dark-950 font-bold bg-white/20 px-5 py-2.5 rounded-xl hover:bg-white/30 transition backdrop-blur-md border border-white/10">
            <span>Ø³Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 rtl:rotate-180" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ -->
    <div id="cart-modal" class="fixed inset-0 bg-dark-950/90 z-[60] hidden backdrop-blur-md flex items-end sm:items-center justify-center transition-opacity duration-300">
        <div class="bg-dark-900 border border-dark-700 w-full max-w-md rounded-t-3xl sm:rounded-3xl p-6 relative animate-slide-up-smooth shadow-2xl h-[85vh] sm:h-auto flex flex-col">
            
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-white flex items-center gap-2">
                    <span class="text-brand-500">ğŸ›’</span> ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨
                </h2>
                <button onclick="closeCartModal()" class="w-9 h-9 bg-dark-800 rounded-full flex items-center justify-center text-gray-400 hover:text-white hover:bg-dark-700 transition border border-dark-700">âœ•</button>
            </div>
            
            <div id="cart-items-list" class="flex-1 overflow-y-auto mb-4 space-y-3 hide-scrollbar pr-1"></div>

            <div class="border-t border-dark-800 my-4"></div>

            <div id="upsell-section" class="bg-gradient-to-r from-brand-500/10 to-transparent p-4 rounded-xl border border-brand-500/20 mb-6 hidden relative overflow-hidden">
                <div class="absolute inset-0 bg-brand-500/5 animate-pulse"></div>
                <div class="relative flex justify-between items-center">
                    <div class="flex items-center gap-3">
                        <img src="https://images.unsplash.com/photo-1541592103048-f8ce6a557c71?w=100" class="w-12 h-12 rounded-lg object-cover shadow-sm grayscale-[20%] border border-brand-500/30">
                        <div class="text-sm">
                            <p class="font-bold text-gray-100">Ø¨Ø·Ø§Ø·Ø³ Ù…Ù‚Ù„ÙŠØ©ØŸ</p>
                            <p class="text-brand-500 font-bold text-xs">+200 Ø¯.Ø¬</p>
                        </div>
                    </div>
                    <button onclick="addUpsell()" class="bg-brand-500 text-dark-950 border border-brand-400 px-4 py-1.5 rounded-lg text-xs font-bold hover:bg-brand-400 transition-all shadow-[0_0_10px_rgba(212,175,55,0.3)]">Ø¥Ø¶Ø§ÙØ©</button>
                </div>
            </div>

            <div class="mt-auto space-y-4">
                <div class="flex justify-between items-center bg-dark-800 p-4 rounded-xl border border-dark-700 shadow-inner">
                    <span class="text-gray-400 font-bold">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</span>
                    <span class="text-3xl font-black text-brand-500" id="final-price">0 Ø¯.Ø¬</span>
                </div>

                <button onclick="sendToWhatsapp()" class="w-full bg-gradient-to-r from-[#25D366] to-[#128C7E] hover:from-[#20bd5a] hover:to-[#0e7a6d] text-white font-bold py-4 rounded-xl shadow-[0_0_20px_rgba(37,211,102,0.3)] flex justify-center items-center gap-3 transition-transform active:scale-95 border-t border-white/20">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.463 1.065 2.876 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                    <span>Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // 1. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (ÙƒØ§Ù…Ù„Ø©)
        const products = [
            // --- Burger ---
            { id: 1, name: "ØªØ´ÙŠØ² Ø¨Ø±ØºØ± ÙƒÙ„Ø§Ø³ÙŠÙƒ", price: 450, category: "burger", img: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400", desc: "Ù„Ø­Ù… Ø¨Ù‚Ø±ÙŠ ØµØ§ÙÙŠØŒ Ø¬Ø¨Ù†Ø© Ø´ÙŠØ¯Ø±ØŒ ØµÙˆØµ Ø¨ÙŠØ³Øª Ø§Ù„Ø®Ø§Øµ" },
            { id: 2, name: "Ø¨Ø±ØºØ± Ø¯Ø¬Ø§Ø¬ ÙƒØ±ÙŠØ³Ø¨ÙŠ", price: 500, category: "burger", img: "https://images.unsplash.com/photo-1615297928064-24977384d0f4?w=400", desc: "ØµØ¯Ø± Ø¯Ø¬Ø§Ø¬ Ù…Ù‚Ø±Ù…Ø´ØŒ Ø®Ø³ØŒ Ù…Ø§ÙŠÙˆÙ†ÙŠØ² Ø¨Ø§Ù„Ø«ÙˆÙ…" },
            { id: 3, name: "Ø¨Ø±ØºØ± Ù…Ø´Ø±ÙˆÙ… Ø³ÙˆÙŠØ³Ø±ÙŠ", price: 550, category: "burger", img: "https://images.unsplash.com/photo-1594212699903-ec8a3eca50f5?w=400", desc: "Ù„Ø­Ù… Ø¨Ù‚Ø±ÙŠØŒ Ù…Ø´Ø±ÙˆÙ… Ø·Ø§Ø²Ø¬ØŒ Ø¬Ø¨Ù†Ø© Ø³ÙˆÙŠØ³Ø±ÙŠØ©" },
            { id: 4, name: "Ø¯Ø¨Ù„ ØªØ´ÙŠØ² Ø¨Ø±ØºØ±", price: 650, category: "burger", img: "https://images.unsplash.com/photo-1550547660-d9450f859349?w=400", desc: "Ø´Ø±ÙŠØ­ØªÙŠÙ† Ù„Ø­Ù…ØŒ Ø¯Ø¨Ù„ Ø¬Ø¨Ù†Ø©ØŒ ØµÙˆØµ Ù…Ø¯Ø®Ù†" },
            { id: 5, name: "Ø¨Ø±ØºØ± Ø¯Ø¬Ø§Ø¬ Ø­Ø§Ø± (Ø²ÙŠÙ†Ø¬Ø±)", price: 550, category: "burger", img: "https://images.unsplash.com/photo-1619250907482-13c9320e1718?w=400", desc: "Ø¯Ø¬Ø§Ø¬ Ø­Ø§Ø±ØŒ ÙÙ„ÙÙ„ Ù‡Ø§Ù„Ø¨ÙŠÙ†ÙˆØŒ ØµÙˆØµ Ø³Ø¨Ø§ÙŠØ³ÙŠ" },
            { id: 6, name: "Ø¨Ø±ØºØ± Ø¨Ø§Ø±Ø¨ÙŠÙƒÙŠÙˆ Ø¨ÙŠÙ", price: 600, category: "burger", img: "https://images.unsplash.com/photo-1596662951482-0c4ba74a6df6?w=400", desc: "Ù„Ø­Ù… Ø¨Ù‚Ø±ÙŠØŒ Ø¨ØµÙ„ Ù…Ù‚Ø±Ù…Ø´ØŒ ØµÙˆØµ Ø¨Ø§Ø±Ø¨ÙŠÙƒÙŠÙˆ" },

            // --- Pizza ---
            { id: 10, name: "Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±ØºØ±ÙŠØªØ§", price: 600, category: "pizza", img: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=400", desc: "ØµÙ„ØµØ© Ø·Ù…Ø§Ø·Ù… Ø¥ÙŠØ·Ø§Ù„ÙŠØ©ØŒ Ù…ÙˆØ²Ø§Ø±ÙŠÙ„Ø§ØŒ Ø±ÙŠØ­Ø§Ù†" },
            { id: 11, name: "Ø¨ÙŠØªØ²Ø§ Ø¨ÙŠØ¨Ø±ÙˆÙ†ÙŠ", price: 750, category: "pizza", img: "https://images.unsplash.com/photo-1628840042765-356cda07504e?w=400", desc: "Ø´Ø±Ø§Ø¦Ø­ Ø¨ÙŠØ¨Ø±ÙˆÙ†ÙŠ Ø¨Ù‚Ø±ÙŠØŒ Ù…ÙˆØ²Ø§Ø±ÙŠÙ„Ø§ØŒ Ø£ÙˆØ±ÙŠØºØ§Ù†Ùˆ" },
            { id: 12, name: "Ø¨ÙŠØªØ²Ø§ 4 ÙØµÙˆÙ„", price: 800, category: "pizza", img: "https://images.unsplash.com/photo-1513104890138-7c749659a591?w=400", desc: "Ù…ÙˆØ²Ø§Ø±ÙŠÙ„Ø§ØŒ Ù…Ø´Ø±ÙˆÙ…ØŒ Ø²ÙŠØªÙˆÙ†ØŒ Ø®Ø±Ø´ÙˆÙØŒ Ø·Ù…Ø§Ø·Ù…" },
            { id: 13, name: "Ø¨ÙŠØªØ²Ø§ Ø®Ø¶Ø§Ø±", price: 650, category: "pizza", img: "https://images.unsplash.com/photo-1595708684082-a173bb3a06c5?w=400", desc: "ÙÙ„ÙÙ„ Ø£Ù„ÙˆØ§Ù†ØŒ Ø¨ØµÙ„ØŒ Ø²ÙŠØªÙˆÙ†ØŒ Ø·Ù…Ø§Ø·Ù…ØŒ Ø°Ø±Ø©" },
            { id: 14, name: "Ø¨ÙŠØªØ²Ø§ Ø¯Ø¬Ø§Ø¬ Ø¨Ø§Ø±Ø¨ÙŠÙƒÙŠÙˆ", price: 850, category: "pizza", img: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=400", desc: "Ù‚Ø·Ø¹ Ø¯Ø¬Ø§Ø¬ØŒ ØµÙˆØµ Ø¨Ø§Ø±Ø¨ÙŠÙƒÙŠÙˆØŒ Ø¨ØµÙ„ Ø£Ø­Ù…Ø±" },
            { id: 15, name: "Ø¨ÙŠØªØ²Ø§ ØªÙˆÙ†Ø©", price: 750, category: "pizza", img: "https://images.unsplash.com/photo-1555072956-7758afb20e8f?w=400", desc: "ØªÙˆÙ†Ø© ÙØ§Ø®Ø±Ø©ØŒ Ø¨ØµÙ„ØŒ Ø²ÙŠØªÙˆÙ†ØŒ Ù…ÙˆØ²Ø§Ø±ÙŠÙ„Ø§" },

            // --- Drinks ---
            { id: 20, name: "Ø­Ù…ÙˆØ¯ Ø¨ÙˆØ¹Ù„Ø§Ù… (Ø¨ÙŠØ¶Ø§Ø¡)", price: 120, category: "drinks", sub_category: "soda", img: "https://images.unsplash.com/photo-1513558161293-cdaf765ed2fd?w=400", desc: "Ù…Ø´Ø±ÙˆØ¨ ØºØ§Ø²ÙŠ Ø¬Ø²Ø§Ø¦Ø±ÙŠ (Ø¨Ù„Ø§Ù†Ø´) 33cl" },
            { id: 21, name: "Ø³Ù„ÙŠÙƒØªÙˆ (Ø­Ù…ÙˆØ¯)", price: 120, category: "drinks", sub_category: "soda", img: "https://images.unsplash.com/photo-1622483767028-3f66f32aef97?w=400", desc: "Ù…Ø´Ø±ÙˆØ¨ ØºØ§Ø²ÙŠ Ø£Ø³ÙˆØ¯ Ù…Ù…ÙŠØ² 33cl" },
            { id: 25, name: "Ø¨ÙŠØ¨Ø³ÙŠ / ÙƒÙˆÙƒØ§", price: 120, category: "drinks", sub_category: "soda", img: "https://images.unsplash.com/photo-1629203851122-3726ecdf080e?w=400", desc: "Ø¹Ù„Ø¨Ø© Ø¨Ø§Ø±Ø¯Ø© 33cl" },
            { id: 22, name: "Ø³Ù„ÙŠÙ… (Ø¨Ø±ØªÙ‚Ø§Ù„)", price: 100, category: "drinks", sub_category: "juice", img: "https://images.unsplash.com/photo-1625772299848-391b6a87d7b3?w=400", desc: "Ù…Ø´Ø±ÙˆØ¨ Ø³Ù„ÙŠÙ… Ø¨Ù†ÙƒÙ‡Ø© Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ Ø§Ù„Ù…Ù†Ø¹Ø´Ø©" },
            { id: 23, name: "Ù…Ø§Ø¡ Ø¥ÙŠÙØ±ÙŠ (ØµØºÙŠØ±)", price: 50, category: "drinks", sub_category: "water", img: "https://images.unsplash.com/photo-1560714771-1d5289f81251?w=400", desc: "Ù‚Ø§Ø±ÙˆØ±Ø© Ù…ÙŠØ§Ù‡ Ù…Ø¹Ø¯Ù†ÙŠØ© 0.5 Ù„ØªØ±" },
            { id: 24, name: "Ù…Ø§Ø¡ Ø¥ÙŠÙØ±ÙŠ (ÙƒØ¨ÙŠØ±)", price: 80, category: "drinks", sub_category: "water", img: "https://images.unsplash.com/photo-1523362628745-0c100150b504?w=400", desc: "Ù‚Ø§Ø±ÙˆØ±Ø© Ù…ÙŠØ§Ù‡ Ù…Ø¹Ø¯Ù†ÙŠØ© 1.5 Ù„ØªØ±" },

            // --- Sides ---
            { id: 99, name: "Ø¨Ø·Ø§Ø·Ø³ Ù…Ù‚Ù„ÙŠØ©", price: 200, category: "sides", sub_category: "", img: "https://images.unsplash.com/photo-1541592103048-f8ce6a557c71?w=400", desc: "Ø¨Ø·Ø§Ø·Ø³ Ø°Ù‡Ø¨ÙŠØ© Ù…Ù‚Ø±Ù…Ø´Ø©" }
        ];

        let cart = {};

        // 2. Ø¯Ø§Ù„Ø© ØªÙˆÙ„ÙŠØ¯ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ù†ØªØ¬
        function createProductCard(p) {
            const qty = cart[p.id] ? cart[p.id].qty : 0;
            return `
            <div class="item-card bg-dark-900 p-3 rounded-2xl shadow-lg shadow-black/20 border border-dark-800 flex gap-3 items-center reveal-on-scroll group hover:border-dark-700">
                <img src="${p.img}" class="w-24 h-24 rounded-xl object-cover bg-dark-800 shadow-md brightness-90 group-hover:brightness-100 transition duration-300" alt="${p.name}">
                <div class="flex-1 min-w-0">
                    <h3 class="font-bold text-gray-100 text-base mb-1 truncate">${p.name}</h3>
                    <p class="text-xs text-gray-400 mb-3 line-clamp-2 leading-relaxed">${p.desc}</p>
                    <div class="flex justify-between items-center">
                        <span class="font-black text-brand-500 text-lg drop-shadow-sm">${p.price} <span class="text-xs font-normal text-gray-500">Ø¯.Ø¬</span></span>
                        
                        <div id="controls-${p.id}" class="h-9">
                            ${generateControlsHTML(p.id, qty)}
                        </div>
                    </div>
                </div>
            </div>
            `;
        }

        function generateControlsHTML(id, qty) {
            if (qty > 0) {
                return `
                <div class="flex items-center bg-dark-800 rounded-lg p-1 gap-2 border border-dark-700 h-full animate-zoom-in">
                    <button onclick="updateCart(${id}, -1)" class="w-8 h-full bg-dark-700 rounded-md text-gray-300 font-bold flex items-center justify-center hover:bg-red-900/30 hover:text-red-400 border border-dark-600 transition">-</button>
                    <span class="font-bold text-base w-6 text-center text-white">${qty}</span>
                    <button onclick="updateCart(${id}, 1)" class="w-8 h-full bg-brand-500 rounded-md text-dark-950 font-bold flex items-center justify-center hover:bg-brand-600 active:scale-95 transition-transform">+</button>
                </div>
                `;
            } else {
                return `
                <button onclick="updateCart(${id}, 1)" class="w-9 h-full bg-dark-800 border border-dark-700 text-brand-500 rounded-lg shadow-sm font-bold flex items-center justify-center hover:bg-brand-500 hover:text-dark-950 transition-all active:scale-90 group-hover:bg-dark-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" />
                    </svg>
                </button>
                `;
            }
        }

        // 3. Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        function renderAllSections() {
            // Burger
            document.getElementById('grid-burger').innerHTML = products
                .filter(p => p.category === 'burger')
                .map(createProductCard).join('');
            
            // Pizza
            document.getElementById('grid-pizza').innerHTML = products
                .filter(p => p.category === 'pizza')
                .map(createProductCard).join('');
            
            // Drinks (Sub Categories)
            document.getElementById('grid-drinks-soda').innerHTML = products
                .filter(p => p.category === 'drinks' && p.sub_category === 'soda')
                .map(createProductCard).join('');
            
            document.getElementById('grid-drinks-juice').innerHTML = products
                .filter(p => p.category === 'drinks' && p.sub_category === 'juice')
                .map(createProductCard).join('');

            document.getElementById('grid-drinks-water').innerHTML = products
                .filter(p => p.category === 'drinks' && p.sub_category === 'water')
                .map(createProductCard).join('');

            // Sides
            document.getElementById('grid-sides').innerHTML = products
                .filter(p => p.category === 'sides')
                .map(createProductCard).join('');
        }

        // 4. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ù„Ø©
        function updateCart(id, change) {
            if (!cart[id]) cart[id] = { ...products.find(p => p.id === id), qty: 0 };
            cart[id].qty += change;
            if (cart[id].qty <= 0) delete cart[id];
            
            const controlsDiv = document.getElementById(`controls-${id}`);
            if (controlsDiv) {
                const newQty = cart[id] ? cart[id].qty : 0;
                controlsDiv.innerHTML = generateControlsHTML(id, newQty);
                if (change > 0 && newQty > 0) {
                    const span = controlsDiv.querySelector('span');
                    if(span) span.classList.add('pop-anim');
                }
            }
            updateCartBar();
            if(navigator.vibrate) navigator.vibrate(40);
        }

        function updateCartBar() {
            const totalQty = Object.values(cart).reduce((a, b) => a + b.qty, 0);
            const totalPrice = Object.values(cart).reduce((a, b) => a + (b.price * b.qty), 0);

            document.getElementById('total-count').innerText = totalQty;
            document.getElementById('total-price').innerText = totalPrice + ' Ø¯.Ø¬';
            document.getElementById('final-price').innerText = totalPrice + ' Ø¯.Ø¬';

            const cartBar = document.getElementById('cart-bar');
            if (totalQty > 0) cartBar.classList.remove('translate-y-[150%]');
            else cartBar.classList.add('translate-y-[150%]');
        }

        // 5. Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
        function openCartModal() {
            const list = document.getElementById('cart-items-list');
            list.innerHTML = '';
            let hasSides = false;
            if (Object.keys(cart).length === 0) return;

            Object.values(cart).forEach(item => {
                if(item.category === 'sides') hasSides = true;
                list.innerHTML += `
                    <div class="flex justify-between items-center text-sm border-b border-dark-800 pb-3 last:border-0 animate-slide-up-smooth">
                        <div class="flex items-center gap-3">
                            <span class="bg-dark-800 text-brand-500 px-2.5 py-1 rounded text-xs font-bold border border-dark-700">x${item.qty}</span>
                            <span class="font-medium text-gray-200">${item.name}</span>
                        </div>
                        <div class="flex items-center gap-3">
                             <span class="font-bold text-brand-500">${item.price * item.qty}</span>
                             <button onclick="removeFromCart(${item.id})" class="text-red-400 text-xs px-2 py-1 bg-red-900/10 rounded hover:bg-red-900/30 transition">âœ•</button>
                        </div>
                    </div>
                `;
            });

            const upsellSection = document.getElementById('upsell-section');
            if(!hasSides) upsellSection.classList.remove('hidden');
            else upsellSection.classList.add('hidden');

            document.getElementById('cart-modal').classList.remove('hidden');
        }

        function closeCartModal() {
            document.getElementById('cart-modal').classList.add('hidden');
        }

        function removeFromCart(id) {
            delete cart[id];
            const controlsDiv = document.getElementById(`controls-${id}`);
            if(controlsDiv) controlsDiv.innerHTML = generateControlsHTML(id, 0);
            updateCartBar();
            openCartModal();
            if(Object.keys(cart).length === 0) closeCartModal();
        }

        function addUpsell() {
            updateCart(99, 1);
            openCartModal();
        }

        function sendToWhatsapp() {
            const phone = "213600000000";
            const tableNumber = 5;
            let message = `Ù…Ø±Ø­Ø¨Ø§ *RestoPro* ğŸ‘‹\nØ£ÙˆØ¯ ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ (Ø·Ø§ÙˆÙ„Ø© ${tableNumber}):\n\n`;
            Object.values(cart).forEach(item => {
                message += `â–«ï¸ ${item.name} *(x${item.qty})* - ${item.price * item.qty} Ø¯.Ø¬\n`;
            });
            const total = document.getElementById('final-price').innerText;
            message += `\nğŸ’° *Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ: ${total}*`;
            const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
        }

        // --- 6. ScrollSpy & Animations Logic ---

        document.addEventListener('DOMContentLoaded', () => {
            renderAllSections();

            // Intersection Observer for Animations (Reveal on Scroll)
            const revealObserver = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        // Add delay based on index for stagger effect if multiple appear at once
                        setTimeout(() => {
                            entry.target.classList.add('reveal-visible');
                        }, index * 50); 
                        revealObserver.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1, rootMargin: '50px' });

            document.querySelectorAll('.reveal-on-scroll').forEach(el => revealObserver.observe(el));

            // Intersection Observer for ScrollSpy (LED Glow)
            const sections = ['burger', 'pizza', 'drinks', 'sides'];
            const navObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.id.replace('section-', '');
                        // Remove active class from all
                        document.querySelectorAll('.nav-btn').forEach(btn => {
                            btn.classList.remove('nav-active');
                            btn.classList.add('bg-dark-900', 'text-gray-400');
                        });
                        // Add active class to current
                        const activeBtn = document.getElementById(`nav-${id}`);
                        if(activeBtn) {
                            activeBtn.classList.remove('bg-dark-900', 'text-gray-400');
                            activeBtn.classList.add('nav-active');
                            
                            // Scroll nav to view if offscreen
                            activeBtn.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
                        }
                    }
                });
            }, { threshold: 0.2, rootMargin: '-20% 0px -60% 0px' }); // Adjust margins for better triggering point

            sections.forEach(sec => {
                const el = document.getElementById(`section-${sec}`);
                if(el) navObserver.observe(el);
            });
            
            // Set initial active
            document.getElementById('nav-burger').classList.add('nav-active');
            document.getElementById('nav-burger').classList.remove('bg-dark-900', 'text-gray-400');
        });

    </script>
</body>
</html>